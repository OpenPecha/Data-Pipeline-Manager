
{% extends "base.html" %}

{% block title %}Dashboard{% endblock title %}

{% block content %}

<div class="row gap-3">
    <div class="col p-4 bg-light rounded">
            <h4>Create OCR Task</h4>
        {% include "pipelines/create_ocr_task_form.html" with form=form %}
    </div>

    <div class="col">
        <div class="d-flex justify-content-between">
            <h4>All Batches</h4>
            <a href="{% url 'pipelines:batch_tasks_list' %}" class="btn btn-primary">View all ></a>
        </div>

        <div class="mt-3">
            <table class="table table-hover table-light">
                <thead>
                <tr>
                    <th scope="col">Id</th>
                    <th scope="col">Name</th>
                    <th scope="col">Started</th>
                    <th scope="col">Inputs</th>
                    <th scope="col">Pipeline Type</th>
                </tr>
                </thead>
                <tbody>
                {% for batch in batch_tasks %}
                    <tr>
                        <th scope="row">{{ batch.id }}</th>
                        <td>{{ batch.name }}</td>
                        <td>{{ batch.started_on }}</td>
                        <td>{{ batch.inputs|truncatechars:30 }}</td>
                        <td>{{ batch.get_pipeline_type_display }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>

{% endblock content %}